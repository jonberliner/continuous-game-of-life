<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Continuous Game of Life - RGBA</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Continuous Game of Life</h1>
            <p>Edge-Guided SmoothLife with Momentum</p>
        </header>

        <main>
            <div class="canvas-container">
                <canvas id="glCanvas"></canvas>
            </div>

            <div class="controls-sidebar">
                <div class="controls-container">
                    
                    <div class="control-section">
                        <h3>Image</h3>
                        <input type="file" id="imageUpload" accept="image/*">
                        <button id="pauseBtn">Pause</button>
                        <button id="resetBtn">Reset</button>
                    </div>

                    <div class="control-section">
                        <h3>Mode</h3>
                        <div class="mode-buttons">
                            <button id="spatialMode" class="mode-btn active">ðŸ”² Spatial</button>
                            <button id="frequencyMode" class="mode-btn">ðŸŽµ Frequency</button>
                        </div>
                        <small class="hint">Spatial = pixels evolve | Frequency = harmonics evolve</small>
                    </div>

                    <div class="control-section">
                        <h3>Game of Life Evolution</h3>
                        <label title="Combined motion + unpredictability of evolution">
                            Evolution Energy: <span id="energyValue">0.64</span>
                            <input type="range" id="energy" min="0" max="1" value="0.64" step="0.01">
                        </label>
                        <small class="hint">Low = slow/stable motifs, Mid = flowing pocket evolution, High = fast/chaotic evolution</small>
                    </div>

                    <div class="control-section">
                        <h3>Pattern Scale</h3>
                        <label title="Neighborhood size for GoL">
                            Radius: <span id="radiusValue">10.0%</span>
                            <input type="range" id="radius" min="0.001" max="1" value="0.10" step="0.001">
                        </label>
                        <small class="hint">0-100% of image scale. Small = local pockets, Large = broad/global coupling</small>
                    </div>

                    <div class="control-section">
                        <h3>Color & Source Pump</h3>
                        <label title="How much structured texture is injected into each edge-bounded region">
                            Structured Noise: <span id="structuredNoiseValue">0.10</span>
                            <input type="range" id="structuredNoise" min="0" max="1" value="0.10" step="0.01">
                        </label>
                        <small class="hint">Low = cleaner regions, High = richer internal texture in each pocket</small>
                        <label title="Size of noise structures inside each pocket">
                            Noise Scale: <span id="noiseScaleValue">0.72</span>
                            <input type="range" id="noiseScale" min="0" max="1" value="0.72" step="0.01">
                        </label>
                        <small class="hint">Low = fine grain, High = larger blobs/forms</small>
                        <label title="How long each pocket keeps its internal texture identity">
                            Noise Persistence: <span id="noisePersistenceValue">0.82</span>
                            <input type="range" id="noisePersistence" min="0" max="1" value="0.82" step="0.01">
                        </label>
                        <small class="hint">Low = constantly refreshing texture, High = stable evolving texture</small>
                        <label title="How strongly original image colors are pumped back globally">
                            Image Pump: <span id="imagePumpValue">0.06</span>
                            <input type="range" id="imagePump" min="0" max="1" value="0.06" step="0.01">
                        </label>
                        <small class="hint">Low = freer drift, High = stronger pull back toward original image</small>
                    </div>

                    <div class="control-section">
                        <h3>Edge Detection</h3>
                        <label title="How fine or coarse the edge map is">
                            Edge Detail: <span id="edgeDetailValue">0.60</span>
                            <input type="range" id="edgeDetail" min="0" max="1" value="0.6" step="0.01">
                        </label>
                        <small class="hint">Low = coarse boundaries, High = fine boundaries</small>
                        <label title="How strongly edge regions pull back toward original colors">
                            Edge Pump: <span id="edgePumpValue">0.18</span>
                            <input type="range" id="edgePump" min="0" max="1" value="0.18" step="0.01">
                        </label>
                        <small class="hint">Low = edges only block flow, High = edges actively re-imprint source colors</small>
                        <label title="How much edges prevent pocket textures from bleeding into neighbors">
                            Edge Confinement: <span id="edgeConfinementValue">0.88</span>
                            <input type="range" id="edgeConfinement" min="0" max="1" value="0.88" step="0.01">
                        </label>
                        <small class="hint">Low = textures leak across boundaries, High = textures stay pocket-local</small>
                    </div>

                    <div class="control-section">
                        <h3>Speed</h3>
                        <label title="Evolution speed">
                            Time Step: <span id="deltaTimeValue">0.32</span>
                            <input type="range" id="deltaTime" min="0.01" max="0.5" value="0.32" step="0.01">
                        </label>
                        <small class="hint">Higher = faster evolution</small>
                    </div>

                    <div class="control-section">
                        <button id="resetBtn">Reset</button>
                        <button id="pauseBtn">Pause</button>
                    </div>

                </div>
            </div>
        </main>
    </div>

    <script type="module" src="src/main.js"></script>
</body>
</html>
