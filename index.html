<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Continuous Game of Life - RGBA</title>
    <link rel="stylesheet" href="styles/main.css">
</head>
<body>
    <div class="container">
        <header>
            <h1>Continuous Game of Life</h1>
            <p>Edge-Guided SmoothLife with Momentum</p>
        </header>

        <main>
            <div class="canvas-container">
                <canvas id="glCanvas"></canvas>
            </div>

            <div class="controls-sidebar">
                <div class="controls-container">
                    
                    <div class="control-section">
                        <h3>Image</h3>
                        <input type="file" id="imageUpload" accept="image/*">
                        <button id="pauseBtn">Pause</button>
                        <button id="resetBtn">Reset</button>
                    </div>

                    <div class="control-section">
                        <h3>Mode</h3>
                        <div class="mode-buttons">
                            <button id="spatialMode" class="mode-btn active">ðŸ”² Spatial</button>
                            <button id="frequencyMode" class="mode-btn">ðŸŽµ Frequency</button>
                        </div>
                        <small class="hint">Spatial = pixels evolve | Frequency = harmonics evolve</small>
                    </div>

                    <div class="control-section">
                        <h3>Look Presets</h3>
                        <div class="mode-buttons">
                            <button id="presetOrganic" class="mode-btn">Organic</button>
                            <button id="presetRegional" class="mode-btn">Regional</button>
                            <button id="presetDreamy" class="mode-btn">Dreamy</button>
                            <button id="presetWild" class="mode-btn">Wild</button>
                            <button id="presetSourceMemory" class="mode-btn">Source Memory</button>
                        </div>
                        <small class="hint">Pick a style, then fine tune with the core sliders</small>
                    </div>

                    <div class="control-section">
                        <h3>Core Controls</h3>
                        <label title="Overall liveliness: motion speed and unpredictability together">
                            Evolution Energy: <span id="energyValue">0.62</span>
                            <input type="range" id="energy" min="0" max="1" value="0.62" step="0.01">
                        </label>
                        <small class="hint">Low = calm, Mid = flowing, High = wild</small>

                        <label title="Typical size of evolving structures">
                            Pattern Size: <span id="patternSizeValue">0.48</span>
                            <input type="range" id="patternSize" min="0" max="1" value="0.48" step="0.01">
                        </label>
                        <small class="hint">Low = small/local motifs, High = large/regional motifs</small>

                        <label title="How strongly regions behave like separate local ecosystems">
                            Section Strength: <span id="sectionStrengthValue">0.70</span>
                            <input type="range" id="sectionStrength" min="0" max="1" value="0.70" step="0.01">
                        </label>
                        <small class="hint">Low = regions blend together, High = regions evolve independently</small>

                        <label title="How aggressively nearby edge fragments merge into larger closed sections">
                            Tile Granularity: <span id="tileGranularityValue">0.58</span>
                            <input type="range" id="tileGranularity" min="0" max="1" value="0.58" step="0.01">
                        </label>
                        <small class="hint">Low = keep finer splits, High = merge into bigger inferred sections</small>

                        <label title="How strongly inferred sections adhere to natural image edges">
                            Natural Edge Adherence: <span id="naturalEdgeAdherenceValue">0.82</span>
                            <input type="range" id="naturalEdgeAdherence" min="0" max="1" value="0.82" step="0.01">
                        </label>
                        <small class="hint">Low = looser inferred boundaries, High = strongly edge-driven boundaries</small>

                        <label title="Merge dense tiny edge fragments into one larger section">
                            Fine-Edge Merge: <span id="fineEdgeMergeValue">0.62</span>
                            <input type="range" id="fineEdgeMerge" min="0" max="1" value="0.62" step="0.01">
                        </label>
                        <small class="hint">Low = split on tiny details, High = absorb micro edge chatter into larger sections</small>

                        <label title="How much colors can evolve away from the source palette">
                            Color Novelty: <span id="colorNoveltyValue">0.42</span>
                            <input type="range" id="colorNovelty" min="0" max="1" value="0.42" step="0.01">
                        </label>
                        <small class="hint">Low = source-like colors, High = surprising new pocket colors</small>

                        <label title="How strongly colors should adhere to the source image palette (independent of boundaries)">
                            Source Color Adherence: <span id="sourceColorAdherenceValue">0.28</span>
                            <input type="range" id="sourceColorAdherence" min="0" max="1" value="0.28" step="0.01">
                        </label>
                        <small class="hint">Low = edges define boundaries only, High = colors stay close to source image palette</small>

                        <label title="How strongly the image is pulled back toward the source over time">
                            Memory: <span id="memoryValue">0.18</span>
                            <input type="range" id="memory" min="0" max="1" value="0.18" step="0.01">
                        </label>
                        <small class="hint">Low = freer drift, High = stronger return toward source image</small>
                    </div>

                    <div class="control-section">
                        <h3>Advanced (Optional)</h3>
                        <details>
                            <summary>Show advanced controls</summary>
                            <label title="Fine/coarse sensitivity of initial edge detection">
                                Edge Detail: <span id="edgeDetailValue">0.60</span>
                                <input type="range" id="edgeDetail" min="0" max="1" value="0.60" step="0.01">
                            </label>
                            <small class="hint">Low = major edges only, High = include fine edge detail</small>
                            <label title="How much tiny details split sections">
                                Micro Detail Influence: <span id="microDetailInfluenceValue">0.22</span>
                                <input type="range" id="microDetailInfluence" min="0" max="1" value="0.22" step="0.01">
                            </label>
                            <small class="hint">Low = smoother macro sections, High = tiny separators preserved</small>
                            <label title="How stable each section's texture identity stays over time">
                                Texture Persistence: <span id="noisePersistenceValue">0.82</span>
                                <input type="range" id="noisePersistence" min="0" max="1" value="0.82" step="0.01">
                            </label>
                            <small class="hint">Low = constantly changing texture, High = longer-lived section texture identity</small>
                        </details>
                    </div>

                    <div class="control-section">
                        <button id="resetBtn">Reset</button>
                        <button id="pauseBtn">Pause</button>
                    </div>

                </div>
            </div>
        </main>
    </div>

    <script type="module" src="src/main.js"></script>
</body>
</html>